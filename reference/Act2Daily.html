<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Split and Annotate Actigraphy Data into Daily Records — Act2Daily • ActiGlobe</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Split and Annotate Actigraphy Data into Daily Records — Act2Daily"><meta name="description" content="`Act2Daily` is used to split the actigraphy recording by the recording dates
stored in Bdf (a BriefSum object)."><meta property="og:description" content="`Act2Daily` is used to split the actigraphy recording by the recording dates
stored in Bdf (a BriefSum object)."><meta property="og:image" content="https://cwy20030.github.io/ActiGlobe/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ActiGlobe</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Circadian-Analysis.html">Circadian-Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Graphic-Report.html">Graphic-Report</a></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/Time-Shift.html">Time-Shift</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cwy20030/ActiGlobe/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Split and Annotate Actigraphy Data into Daily Records</h1>
      <small class="dont-index">Source: <a href="https://github.com/cwy20030/ActiGlobe/blob/HEAD/R/Act2Daily.R" class="external-link"><code>R/Act2Daily.R</code></a></small>
      <div class="d-none name"><code>Act2Daily.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>`Act2Daily` is used to split the actigraphy recording by the recording dates
stored in Bdf (a BriefSum object).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Act2Daily</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">Bdf</span>,</span>
<span>  TUnit <span class="op">=</span> <span class="st">"hour"</span>,</span>
<span>  VAct <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  VTm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Incomplete <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Travel <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>A data.frame of raw actigraphy recording. Both time and activity
count should be included in the `df`. See `VAct` and `VTm` for further
detail.</p></dd>


<dt id="arg-bdf">Bdf<a class="anchor" aria-label="anchor" href="#arg-bdf"></a></dt>
<dd><p>A <code><a href="BriefSum.html">BriefSum</a></code> object containing per-day metadata
for the recording. Note, if jet lag occurred during the recording, please,
update the metadata using <code><a href="TAdjust.html">TAdjust</a></code> before passing to this
function.</p></dd>


<dt id="arg-tunit">TUnit<a class="anchor" aria-label="anchor" href="#arg-tunit"></a></dt>
<dd><p>Character; time–unit for the x–axis of each day's timeline.
Must be one of `day`, `hour`, `minute` or `second`.  Default is `hour`.</p></dd>


<dt id="arg-vact">VAct<a class="anchor" aria-label="anchor" href="#arg-vact"></a></dt>
<dd><p>Optional character. Name of the activity column in `df`. If NULL,
defaults to the second column of `df`.</p></dd>


<dt id="arg-vtm">VTm<a class="anchor" aria-label="anchor" href="#arg-vtm"></a></dt>
<dd><p>Optional character.  Name of the date.time index column in `df`.
If NULL, defaults to the first column of `df`.</p></dd>


<dt id="arg-incomplete">Incomplete<a class="anchor" aria-label="anchor" href="#arg-incomplete"></a></dt>
<dd><p>Logical; if TRUE, days flagged `Incomplete Recording`
(i.e. &lt;24 h) are retained in the data list with recordings segmented by day.
Default = FALSE (these days are removed).</p></dd>


<dt id="arg-travel">Travel<a class="anchor" aria-label="anchor" href="#arg-travel"></a></dt>
<dd><p>Logical; if TRUE, days flagged `Travel` are retained although
some data points from an earlier adjacent calendar day may be duplicated
(a warning is issued). If FALSE, travel days and the day before/after are
excluded. Default = TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data list that includes the adjusted recordings both in long
format and as a nested list by day.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Transforms a continuous actigraphy time-series into a day-by-day
list of aligned epoch and produces a fully annotated data frame. Based on
the summary table generated by either <code><a href="BriefSum.html">BriefSum</a></code> or
<code><a href="TAdjust.html">TAdjust</a></code>, it re-organize and segment the raw recording data by
each day. The function is designed to process incomplete recordings while
accounting for travel and daylight-saving adjustments. All labels contained
in the summary table (i.e., Bdf) will be assigned to the corresponding data
points. This workflow ensures that each day's recording is bounded by its
calendar date while accounts for travel–induced overlaps, and clearly
documents any incomplete or unallocated points.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>When you cross into a time zone with a larger UTC offset (e.g., Montreal
\(UTC-5\) to Taipei \(UTC+8\)), it will generate a small overlap of
epochs between the day before travel and the day labeled "Travel Day" in the
"Daily_df". Conversely,when you move into a time zone with a smaller UTC
offset, a brief gap appears on "Travel Day", with labeling - "Unallocated",
which represents "time lose".</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="TAdjust.html">TAdjust</a></code> <code><a href="write.act.html">write.act</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Import data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span> <span class="op">(</span><span class="va">FlyEast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create quick summary of the recording with adjustment for daylight saving.</span></span></span>
<span class="r-in"><span><span class="va">BdfList</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="BriefSum.html">BriefSum</a></span> <span class="op">(</span></span></span>
<span class="r-in"><span>        df <span class="op">=</span> <span class="va">FlyEast</span>,</span></span>
<span class="r-in"><span>        SR <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">60</span>,</span></span>
<span class="r-in"><span>        Start <span class="op">=</span> <span class="st">"2017-10-24 13:45:00"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Lets extract the quick summary of the recording</span></span></span>
<span class="r-in"><span><span class="va">Bdf</span> <span class="op">&lt;-</span> <span class="va">BdfList</span><span class="op">$</span><span class="va">Bdf</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Note that since the original data was affected by travel-induced time</span></span></span>
<span class="r-in"><span><span class="co">### shift, the recordings would not be properly segmented from 2017-11-02.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## To avoid time shift due to travelling, we will keep only the first 8 days.</span></span></span>
<span class="r-in"><span><span class="va">Bdf</span> <span class="op">&lt;-</span> <span class="va">Bdf</span> <span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">BdfList</span><span class="op">$</span><span class="va">df</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Segment Data by Day</span></span></span>
<span class="r-in"><span><span class="va">dfList</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu">Act2Daily</span> <span class="op">(</span></span></span>
<span class="r-in"><span>        df <span class="op">=</span> <span class="va">df</span>,</span></span>
<span class="r-in"><span>        Bdf <span class="op">=</span> <span class="va">Bdf</span>,</span></span>
<span class="r-in"><span>        VAct <span class="op">=</span> <span class="st">"Activity"</span>,</span></span>
<span class="r-in"><span>        VTm <span class="op">=</span> <span class="st">"Time"</span>,</span></span>
<span class="r-in"><span>        Incomplete <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>        Travel <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span> <span class="op">(</span><span class="va">dfList</span><span class="op">)</span> <span class="co">### Look at the output structure</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span> <span class="op">(</span><span class="va">dfList</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by C. William Yao, Giorgio Varesco, François Bieuzen, Guido Simonelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

