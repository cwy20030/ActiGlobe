<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Split and Annotate Actigraphy Data into Daily Records — Act2Daily • ActiGlobe</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Split and Annotate Actigraphy Data into Daily Records — Act2Daily"><meta property="og:description" content="`Act2Daily` is used to split the actigraphy recording by the recording dates
stored in Bdf (a BriefSum object)."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ActiGlobe</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Circadian-Analysis.html">Circadian-Analysis</a>
    </li>
    <li>
      <a href="../articles/Graphic-Report.html">Graphic-Report</a>
    </li>
    <li>
      <a href="../articles/Time-Shift.html">Time-Shift</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/cwy20030/ActiGlobe/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Split and Annotate Actigraphy Data into Daily Records</h1>
    <small class="dont-index">Source: <a href="https://github.com/cwy20030/ActiGlobe/blob/HEAD/R/Act2Daily.R" class="external-link"><code>R/Act2Daily.R</code></a></small>
    <div class="hidden name"><code>Act2Daily.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>`Act2Daily` is used to split the actigraphy recording by the recording dates
stored in Bdf (a BriefSum object).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">Act2Daily</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">Bdf</span>,</span>
<span>  TUnit <span class="op">=</span> <span class="st">"hour"</span>,</span>
<span>  VAct <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  VTm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Incomplete <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  Travel <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>A data.frame of raw actigraphy recording. Both time and activity count
should be included in the `df`. See `VAct` and `VTm` for further detail.</p></dd>


<dt id="arg-bdf">Bdf<a class="anchor" aria-label="anchor" href="#arg-bdf"></a></dt>
<dd><p>A <code><a href="BriefSum.html">BriefSum</a></code> object containing per-day metadata for the recording. Note, if jet lag occurred during the recording, please, update the metadata using <code><a href="TAdjust.html">TAdjust</a></code> before passing to this function.</p></dd>


<dt id="arg-tunit">TUnit<a class="anchor" aria-label="anchor" href="#arg-tunit"></a></dt>
<dd><p>Character; time–unit for the x–axis of each day's timeline.
Must be one of `day`, `hour`, `minute` or `second`.  Default is `hour`.</p></dd>


<dt id="arg-vact">VAct<a class="anchor" aria-label="anchor" href="#arg-vact"></a></dt>
<dd><p>Optional character. Name of the activity column in `df`. If NULL,
defaults to the second column of `df`.</p></dd>


<dt id="arg-vtm">VTm<a class="anchor" aria-label="anchor" href="#arg-vtm"></a></dt>
<dd><p>Optional character.  Name of the time index column in `df`. If NULL,
defaults to the first column of `df`.</p></dd>


<dt id="arg-incomplete">Incomplete<a class="anchor" aria-label="anchor" href="#arg-incomplete"></a></dt>
<dd><p>Logical; if TRUE, days flagged `Incomplete Recording` (i.e. &lt;24 h)
are retained in the data list with recordings segmented by day. Default = FALSE (these days are removed).</p></dd>


<dt id="arg-travel">Travel<a class="anchor" aria-label="anchor" href="#arg-travel"></a></dt>
<dd><p>Logical; if TRUE, days flagged `Travel` are retained although
some data points from an earlier adjacent calendar day may be duplicated (a
warning is issued). If FALSE, travel days and the day before/after are excluded.
Default = TRUE.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data list that includes the adjusted recordings both in long format and as a nested list by day.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Transforms a continuous actigraphy time-series into a day-by-day list
 of aligned epoch and produces a fully annotated data frame. Based on the
 summary table generated by either <code><a href="BriefSum.html">BriefSum</a></code> or <code><a href="TAdjust.html">TAdjust</a></code>, it re-organize and
 segment the raw recording data by each day. The function is designed to
 process incomplete recordings while accounting for travel and daylight-saving
 adjustments. All labels contained in the summary table (i.e., Bdf) will be
 assigned to the corresponding data points. This workflow ensures that each day's recording is bounded by its
 calendar date while accounts for travel–induced overlaps, and clearly documents any incomplete or unallocated points.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>When you cross into a time zone with a larger UTC offset (e.g., Montreal
\(UTC-5\) to Taipei \(UTC+8\)), it will generate a small overlap of
epochs between the day before travel and the day labeled "Travel Day" in the
"Daily_df". Conversely,when you move into a time zone with a smaller UTC
offset, a brief gap appears on "Travel Day", with labeling - "Unallocated",
which represents "time lose".</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="TAdjust.html">TAdjust</a></code> <code><a href="write.act.html">write.act</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Import data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span> <span class="op">(</span><span class="va">FlyEast</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create quick summary of the recording with adjustment for daylight saving.</span></span></span>
<span class="r-in"><span><span class="va">BdfList</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="BriefSum.html">BriefSum</a></span> <span class="op">(</span></span></span>
<span class="r-in"><span>        df <span class="op">=</span> <span class="va">FlyEast</span>,</span></span>
<span class="r-in"><span>        SR <span class="op">=</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">60</span>,</span></span>
<span class="r-in"><span>        Start <span class="op">=</span> <span class="st">"2017-10-24 13:45:00"</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Lets extract the quick summary of the recording</span></span></span>
<span class="r-in"><span><span class="va">Bdf</span> <span class="op">&lt;-</span> <span class="va">BdfList</span><span class="op">$</span><span class="va">Bdf</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Note that since the original data was affected by travel-induced time</span></span></span>
<span class="r-in"><span><span class="co">### shift, the recordings would not be properly segmented from 2017-11-02.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## To avoid time shift due to travelling, we will keep only the first 8 days.</span></span></span>
<span class="r-in"><span><span class="va">Bdf</span> <span class="op">&lt;-</span> <span class="va">Bdf</span> <span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">BdfList</span><span class="op">$</span><span class="va">df</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Segment Data by Day</span></span></span>
<span class="r-in"><span><span class="va">dfList</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>    <span class="fu">Act2Daily</span> <span class="op">(</span></span></span>
<span class="r-in"><span>        df <span class="op">=</span> <span class="va">df</span>,</span></span>
<span class="r-in"><span>        Bdf <span class="op">=</span> <span class="va">Bdf</span>,</span></span>
<span class="r-in"><span>        VAct <span class="op">=</span> <span class="st">"Activity"</span>,</span></span>
<span class="r-in"><span>        VTm <span class="op">=</span> <span class="st">"Time"</span>,</span></span>
<span class="r-in"><span>        Incomplete <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>        Travel <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span> <span class="op">(</span><span class="va">dfList</span><span class="op">)</span> <span class="co">### Look at the output structure</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span> <span class="op">(</span><span class="va">dfList</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by C. William Yao, Giorgio Varesco, François Bieuzen, Guido Simonelli.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

