# ActiGlobe

ActiGlobe is designed to make it easy to pre-process longitudinal
actigraphy recordings, especially for the recordings affected by time
shift due to daylight saving changes and or cross-continental travel. It
streamlines the process from end-to-end, to simplify the process of
pre-processing, analyzing, and exporting daily actigraphy data and
visual reports, making it an essential tool for researchers and
professionals in the field.

## Installation

The pre-released version of ActiGlobe can installed from
[GitHub](https://github.com/) with:

#### ActiGlobe-dev

``` r
# If devtools is not available locally, please download it by removing the number symbol before the 'install.packages' code. 
# install.packages ("devtools")
devtools::install_github ("cwy20030/ActiGlobe")


# To properly install tutorial, please, use the following code
devtools::install_github ("cwy20030/ActiGlobe",
                          build_vignettes = TRUE)
```

Coming soon… ActiGlobe-release

``` r
install.packages ("ActiGlobe")
```

  

## Citation

### For the pre-release package ‘ActiGlobe’ in publication:

``` r
citation("ActiGlobe")
```

#### To cite package ‘ActiGlobe’ in publications use:

Yao C, Varesco G, Simonelli G (2025). *ActiGlobe: Wearable Recording
Processor for Cross-Continental Travel*. R package version 0.2.1,
<https://github.com/cwy20030/ActiGlobe>.

#### A BibTeX entry for LaTeX users is

      @Manual{,
        title = {ActiGlobe: Wearable Recording Processor for Cross-Continental Travel},
         author = {C. William Yao and Giorgio Varesco and Guido Simonelli},
         year = {2025},
         note = {R package version 0.2.1},
         url = {https://github.com/cwy20030/ActiGlobe},
       }

To convert to an EndNote-compatible format, paste the BibTeX entry in
[online bibtex-converter](https://asouqi.github.io/bibtex-converter)

## Quick Start - No Time Change

``` r
### Load ActiGlobe into R
library (ActiGlobe)
```

``` r
### Replace FlyEast with the dataset and specify sampling rate in SR and the start of the recording. 
BdfList <- 
BriefSum (df    = FlyEast,
          SR    = 1/60,
          Start = "2017-10-24 13:45:00")


### Extract the summary report and the enriched data
Bdf <- BdfList$Bdf
df  <- BdfList$df
```

``` r
### Quick overview of the original recording
ggActiGlobe (df   = df, 
             Bdf  = Bdf,
             VAct = "Activity",
             VDT  = "DateTime")
```

![\<b\> Figure 1. \</b\> Overview of the raw recording with clear
day‑to‑day epoching
misalignment](articles/images/Unadjusted_Overview.png)

**Figure 1.** Overview of the raw recording with clear day‑to‑day
epoching misalignment

### Adjust Travel-induced Time Shift

``` r
#### Import the travel log into R and give it a name
TLog <- read.csv ("WHERE/YOU/STOREd/THE/TRAVEL/LOG/TEMPLATE/TravelLog_Template.csv")

#### Replace the TLog with the name of the travel log assigned
Bdf.adj <- TAdjust (Bdf  = Bdf, 
                    TLog = TLog)
```

Take a coffee break if needed because ActiGlobe will adjust time shift
and anonymize the travel destination to keep participants’ privacy.

``` r
dfList <- Act2Daily (df         = df,
                     Bdf        = Bdf.adj,
                     VAct       = "Activity",
                     VTm        = "Time",
                     Incomplete = TRUE,
                     Travel     = TRUE)
```

#### Review adjustment

``` r
df2 <- do.call (rbind,
                dfList$Daily_df)

ggActiGlobe (df   = df2, 
             Bdf  = Bdf.adj,
             VAct = "Activity",
             VDT  = "DateTime")
```

![\<b\> Figure 2. \</b\> Overview of the \<u\>adjusted\</u\>
recording](articles/images/Adjusted_Overview.png)

**Figure 2.** Overview of the *adjusted* recording

## Other Features

Generate report via write.cosinor() and export pre-processed data via
write.act() reproducibility and further analysis.

ActiGlobe can also be used to analyze data via traditional OLS cosinor
modeling. To learn how to perform and visualize ecnometrics-based
cosinor model and circularized kernel density estimation, please, see
the package vignettes.

## Code of conduct

Please note that this project is released with a [Contributor Code of
Conduct](https://github.com/cwy20030/ActiGlobe/blob/main/CODE_OF_CONDUCT.md).
By participating in this project you agree to abide by its terms.

# Package index

## All functions

- [`Act2Daily()`](https://cwy20030.github.io/ActiGlobe/reference/Act2Daily.md)
  : Split and Annotate Actigraphy Data into Daily Records
- [`boot.seci()`](https://cwy20030.github.io/ActiGlobe/reference/boot.seci.md)
  : Bootstrap Standard Errors and Confidence Intervals for Parameters
- [`BriefSum()`](https://cwy20030.github.io/ActiGlobe/reference/BriefSum.md)
  : Summarize the Actigraphy Recording by Day
- [`CosinorM.KDE()`](https://cwy20030.github.io/ActiGlobe/reference/CosinorM.KDE.md)
  : KDE-based circadian cosinor summary
- [`CosinorM()`](https://cwy20030.github.io/ActiGlobe/reference/CosinorM.md)
  : \`Cosinor\` Model
- [`Date2TotalT()`](https://cwy20030.github.io/ActiGlobe/reference/Date2TotalT.md)
  : Compute Total Time in Each Date (Per Day)
- [`DateFormat()`](https://cwy20030.github.io/ActiGlobe/reference/DateFormat.md)
  : Detect Possible DT Format
- [`DST()`](https://cwy20030.github.io/ActiGlobe/reference/DST.md) :
  Daylight Saving Time
- [`DST2GL()`](https://cwy20030.github.io/ActiGlobe/reference/DST2GL.md)
  : Compute Time Gain/Loss due to Daylight Saving Time
- [`FlyEast`](https://cwy20030.github.io/ActiGlobe/reference/FlyEast.md)
  : Travel East Sample Data
- [`FlyEast_adj`](https://cwy20030.github.io/ActiGlobe/reference/FlyEast_adj.md)
  : Adjusted Travel East Sample Data
- [`ggActiGlobe()`](https://cwy20030.github.io/ActiGlobe/reference/ggActiGlobe.md)
  : Plot an Overview of an \`ActiGlobe\` Activity Time Series
- [`ggCosinorM()`](https://cwy20030.github.io/ActiGlobe/reference/ggCosinorM.md)
  : Plot \`CosinorM\` and \`CosinorM.KDE\` Fit with \`ggplot2\`
- [`IANA`](https://cwy20030.github.io/ActiGlobe/reference/IANA.md) :
  IANA Time Table
- [`Num2UTC()`](https://cwy20030.github.io/ActiGlobe/reference/Num2UTC.md)
  : Convert Numbers to Standard UTC Offset
- [`Rad2Hr()`](https://cwy20030.github.io/ActiGlobe/reference/Rad2Hr.md)
  : Radian to Hour
- [`TAdjust()`](https://cwy20030.github.io/ActiGlobe/reference/TAdjust.md)
  : Adjust Time Shift based on Travel Log
- [`TimeFormat()`](https://cwy20030.github.io/ActiGlobe/reference/TimeFormat.md)
  : Detect Possible Time Format
- [`TLog`](https://cwy20030.github.io/ActiGlobe/reference/TLog.md) :
  Travel Log
- [`TravelLog()`](https://cwy20030.github.io/ActiGlobe/reference/TravelLog.md)
  : Generate the Travel Log Template Needed for Time Zone Correction
- [`TZ2UTC()`](https://cwy20030.github.io/ActiGlobe/reference/TZ2UTC.md)
  : Compute UTC offset based on Time Zone and Date
- [`UTC2Num()`](https://cwy20030.github.io/ActiGlobe/reference/UTC2Num.md)
  : Convert Standard UTC Offset to Numbers
- [`UTCwDST()`](https://cwy20030.github.io/ActiGlobe/reference/UTCwDST.md)
  : Determine if Daylight Saving Transitions may occur in an UTC Offset
- [`write.act()`](https://cwy20030.github.io/ActiGlobe/reference/write.act.md)
  : Export Daily Activity Score and Recording Summary
- [`write.cosinor()`](https://cwy20030.github.io/ActiGlobe/reference/write.cosinor.md)
  : Generate Report for Daily Cosinor and Generate Summary Plot

# Articles

### All vignettes

- [Circadian-Analysis](https://cwy20030.github.io/ActiGlobe/articles/Circadian-Analysis.md):
- [Graphic-Report](https://cwy20030.github.io/ActiGlobe/articles/Graphic-Report.md):
- [Introduction](https://cwy20030.github.io/ActiGlobe/articles/Introduction.md):
- [Time-Shift](https://cwy20030.github.io/ActiGlobe/articles/Time-Shift.md):
