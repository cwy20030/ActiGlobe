<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction • ActiGlobe</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ActiGlobe</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Circadian-Analysis.html">Circadian-Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Graphic-Report.html">Graphic-Report</a></li>
    <li><a class="dropdown-item" href="../articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/Time-Shift.html">Time-Shift</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cwy20030/ActiGlobe/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Introduction</h1>
            <h3 data-toc-skip class="subtitle">What is actigraphy? How
do we use R?</h3>
                        <h4 data-toc-skip class="author">C. William Yao,
Samuel Szocs</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/cwy20030/ActiGlobe/blob/HEAD/vignettes/Introduction.Rmd" class="external-link"><code>vignettes/Introduction.Rmd</code></a></small>
      <div class="d-none name"><code>Introduction.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-will-be-covered-in-this-tutorial">What will be covered in this tutorial?<a class="anchor" aria-label="anchor" href="#what-will-be-covered-in-this-tutorial"></a>
</h2>
<p>This specific tutorial is designed to give users a gentle
introduction to actigraphy and R. For tutorials on how to use ActiGlobe,
please go to the rest of the tutorials in this package.</p>
</div>
<div class="section level2">
<h2 id="load-the-libraries">Load the Libraries<a class="anchor" aria-label="anchor" href="#load-the-libraries"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://github.com/cwy20030/ActiGlobe" class="external-link">ActiGlobe</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">### Optional Library</span></span>
<span><span class="co"># library(zeallot)</span></span></code></pre></div>
<p>If any of the packages have yet to be installed, we can always
install them using the function <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code>.</p>
</div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
</div>
<div class="section level2">
<h2 id="what-is-actigraphy">What is Actigraphy?<a class="anchor" aria-label="anchor" href="#what-is-actigraphy"></a>
</h2>
<p>Actigraphy is a non-invasive method used for measuring sleep/wake
cycles by using a small device, usually in the form of a wrist-worn
watch. It is the easiest way to measure sleep in the field and is widely
used in the realm of sleep research due to its extended recording time
and ease of use (Smith et al., 2018). An actigraphy device has a
built-in accelerometer that measures movement, allowing researchers to
objectively track activity patterns over days, weeks, or even
months.</p>
<div class="section level3">
<h3 id="understanding-accelerometers-and-gyroscopes">Understanding Accelerometers and Gyroscopes<a class="anchor" aria-label="anchor" href="#understanding-accelerometers-and-gyroscopes"></a>
</h3>
<p>Modern actigraphy devices rely on sophisticated sensors to capture
movement data:</p>
<div class="section level4">
<h4 id="accelerometers">Accelerometers<a class="anchor" aria-label="anchor" href="#accelerometers"></a>
</h4>
<p>An <strong>accelerometer</strong> is a sensor that measures
acceleration, or more simply, motion in one direction. It works by
converting physical movement into electrical signals that the device can
interpret and store. A 3-axis (or tri-axial) accelerometer measures
acceleration along three perpendicular axes (X, Y, and Z), which
correspond to different directions in three-dimensional space. This
allows the device to track all types of motion, whether you are walking,
running, or lying in bed.</p>
<p>More specifically, an actigraph outputs the magnitude of acceleration
(i.e., the vector magnitude of acceleration across all three axes),
which is then used by algorithms to classify periods of activity versus
rest. For instance, if you are out on a run, as your feet pound against
the pavement and your arm swings back and forth, the device on your
wrist will detect a sharp increase in the magnitude of acceleration,
signaling that you are wide awake and on the move. In contrast, if you
are curled up in bed fast asleep, the magnitude will greatly decrease
and stabilize, allowing the device to easily discern that you are in a
period of sleep or rest.</p>
</div>
<div class="section level4">
<h4 id="gyroscopes">Gyroscopes<a class="anchor" aria-label="anchor" href="#gyroscopes"></a>
</h4>
<p>While accelerometers measure linear acceleration,
<strong>gyroscopes</strong> measure angular velocity or rotational
movement. Some advanced actigraphy devices incorporate gyroscopes to
provide a more complete picture of movement. By combining data from both
accelerometers and gyroscopes, these devices can better distinguish
between different types of activities (e.g., walking vs. cycling) and
reduce errors caused by device orientation.</p>
</div>
</div>
<div class="section level3">
<h3 id="on-device-filtering-and-data-acquisition">On-Device Filtering and Data Acquisition<a class="anchor" aria-label="anchor" href="#on-device-filtering-and-data-acquisition"></a>
</h3>
<p>To enable prolonged and uninterrupted data collection while managing
storage limitations, most clinical and research-grade actigraphy devices
implement <strong>on-device filtering</strong> and data processing:</p>
<div class="section level4">
<h4 id="signal-processing">Signal Processing<a class="anchor" aria-label="anchor" href="#signal-processing"></a>
</h4>
<p>Raw acceleration signals from the accelerometer are typically sampled
at high frequencies (e.g., 32 Hz or higher). However, storing raw
high-frequency data for weeks or months would require enormous storage
capacity. To address this, devices apply on-device signal
processing:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Bandpass Filtering</strong>: Raw acceleration signals are
filtered to remove high-frequency noise and low-frequency drift,
typically retaining frequencies associated with human movement
(approximately 0.25–3 Hz).</p></li>
<li>
<p><strong>Magnitude Calculation</strong>: The device computes the
vector magnitude of acceleration across the three axes:</p>
<p><span class="math inline">\(\text{Magnitude} = \sqrt{x^2 + y^2 +
z^2}\)</span></p>
<p>where <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span>, and <span class="math inline">\(z\)</span> represent acceleration along each
axis.</p>
</li>
<li><p><strong>Epoch Aggregation</strong>: The filtered magnitude values
are aggregated over fixed time intervals called <strong>epochs</strong>
(commonly 15, 30, or 60 seconds). Aggregation methods include summing,
averaging, or taking the maximum value within each epoch.</p></li>
<li><p><strong>Activity Counts</strong>: The resulting value for each
epoch is stored as an “activity count” — a unitless measure that
represents the amount of movement detected during that time
period.</p></li>
</ol>
<p>This approach dramatically reduces data storage requirements while
preserving the essential information needed for sleep/wake analysis and
circadian rhythm assessment.</p>
</div>
<div class="section level4">
<h4 id="time-stamping-and-time-zone-considerations">Time Stamping and Time Zone Considerations<a class="anchor" aria-label="anchor" href="#time-stamping-and-time-zone-considerations"></a>
</h4>
<p>To allow for prolonged and uninterrupted data collection, most
clinical and research-grade actigraphy devices record only the time and
time zone at the initiation of recording. When no travel occurs during
the recording period, one can easily infer the time coordinates of all
recorded activity counts.</p>
<p>However, time zone changes during data collection present a unique
challenge. For example, if a Canadian researcher is initializing devices
for a study that collects data before, during, and after travel to
Europe, they face a difficult choice: Should the watches be set to
Montreal time (UTC-4) or Paris time (UTC+2)? Unfortunately, most
actigraphy devices are not flexible enough to automatically adjust for
time zone changes during recording.</p>
</div>
</div>
<div class="section level3">
<h3 id="the-need-for-actiglobe">The Need for ActiGlobe<a class="anchor" aria-label="anchor" href="#the-need-for-actiglobe"></a>
</h3>
<p>When a wearer is engaged in long-distance or cross-time-zone travel,
the fixed time zone setting becomes problematic. The time zone switch is
not automatically recorded or adjusted, which can lead to significant
misinterpretation of the data.</p>
<p>Consider the example shown in Figure 1 below from an Actiwatch®
device (Varesco et al., 2024). When looking at the raw data without
adjustment, the activity count appears noticeably high in the middle of
the night (on/right side of the blue line) around November 5th.
Moreover, the activity count is low in the middle of the day, leading to
the erroneous conclusion that the subject was sleeping during the day
and awake at night.</p>
<div class="figure">
<img src="images/Unadjusted_Overview.png" class="r-plt" alt="Figure 1: Unadjusted actigraphy data showing apparent day-night reversal due to unaccounted time zone change." width="100%"><p class="caption">
Figure 1: Unadjusted actigraphy data showing apparent day-night reversal
due to unaccounted time zone change.
</p>
</div>
<p>This issue is due to a time zone change that the hardware and
software are not aware of. The device continues recording throughout the
travel period; thus, the data becomes confusing and produces skewed
outcomes. Unaltered data after cross-time-zone travel makes processing
and extracting results much more complicated and can lead to incorrect
scientific conclusions.</p>
<p><strong>ActiGlobe</strong> was developed specifically to address this
challenge. By allowing researchers to specify travel logs and time zone
transitions, ActiGlobe can adjust actigraphy data to reflect the correct
local time throughout the recording period. This ensures that analyses
of sleep/wake patterns, circadian rhythms, and activity levels are
accurate and interpretable, even when participants travel across
multiple time zones.</p>
<p>Figure 2 shows the same data after time zone adjustment using
ActiGlobe:</p>
<div class="figure">
<img src="images/Adjusted_Overview.png" class="r-plt" alt="Figure 2: Adjusted actigraphy data showing correct sleep/wake patterns after time zone correction." width="100%"><p class="caption">
Figure 2: Adjusted actigraphy data showing correct sleep/wake patterns
after time zone correction.
</p>
</div>
<p>After adjustment, the data clearly shows appropriate sleep periods at
night and activity during the day, demonstrating the importance of
proper time zone handling in actigraphy research.</p>
</div>
</div>
<div class="section level2">
<h2 id="getting-started-with-actiglobe">Getting Started with ActiGlobe<a class="anchor" aria-label="anchor" href="#getting-started-with-actiglobe"></a>
</h2>
<p>Now that you understand the fundamentals of actigraphy and the
challenges of time zone adjustments, you are ready to explore the
ActiGlobe package. The following vignettes will guide you through:</p>
<ul>
<li>
<strong>Time-Shift Adjustment</strong>: Learn how to adjust
actigraphy data for time zone changes and daylight saving time
transitions.</li>
<li>
<strong>Circadian Analysis</strong>: Perform cosinor analysis to
characterize circadian rhythms and estimate parameters like MESOR,
amplitude, and acrophase.</li>
<li>
<strong>Graphic Reports</strong>: Generate comprehensive visual
reports to communicate your findings effectively.</li>
</ul>
<p>We encourage you to work through each tutorial to become familiar
with the ActiGlobe workflow and discover how this tool can enhance your
actigraphy research.</p>
<hr>
</div>
<div class="section level2">
<h2 id="getting-started-with-r-essential-skills-and-pro-tips">Getting Started with R: Essential Skills and Pro Tips<a class="anchor" aria-label="anchor" href="#getting-started-with-r-essential-skills-and-pro-tips"></a>
</h2>
<p>R is a powerful, specialized language for data analysis, statistics,
and visualization. Whether you are a new user or an experienced analyst,
mastering R’s ecosystem will streamline your workflow—especially when
working with packages like ActiGlobe.</p>
<div class="section level3">
<h3 id="quick-start-running-r">Quick Start: Running R<a class="anchor" aria-label="anchor" href="#quick-start-running-r"></a>
</h3>
<ul>
<li>
<strong>Install R:</strong> Download from <a href="https://cran.r-project.org/" class="external-link">CRAN</a>.</li>
<li>
<strong>Choose an IDE:</strong> <a href="https://posit.co/" class="external-link">RStudio</a> is the gold standard for R,
providing an all-in-one interface for scripting, output, packages, and
visualization.
<ul>
<li>Alternatives: <a href="https://code.visualstudio.com/docs/languages/r" class="external-link">Visual Studio
Code</a> with R extensions, or even Google Colab for running R code via
Jupyter interface.</li>
</ul>
</li>
</ul>
<p><strong>Try out a basic calculation:</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">2</span> <span class="op">+</span> <span class="fl">2</span></span>
<span><span class="co">#&gt; [1] 4</span></span></code></pre></div>
<p><strong>To reuse the value later, assign it to a
variable:</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fl">2</span> <span class="op">+</span> <span class="fl">2</span></span>
<span></span>
<span><span class="co">## We can verify it by printing the stored value in x:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="why-r-robust-and-reliable">Why R? Robust and Reliable<a class="anchor" aria-label="anchor" href="#why-r-robust-and-reliable"></a>
</h3>
<p>R’s CRAN committee reviews every package rigorously for compatibility
and correctness on all major operating systems. This strict review
process in unique among common programming languages (such as Python’s
PyPI and MATLAB) in the world of research. In addition, CRAN
periodically recheck existing packages compatibility to ensure they
continue to meet standards as R evolves. While these checks may
introduce some delays in package updates, they provide a crucial layer
of quality assurance and avoid version-bounded issues (a common issue
among python libraries). For this reason, the primary development of
ActiGlobe is and will be in R to ensure long-term stability and
reliability for users.</p>
</div>
<div class="section level3">
<h3 id="essential-keyboard-shortcuts-rstudio-and-general-use">Essential Keyboard Shortcuts (RStudio and General Use)<a class="anchor" aria-label="anchor" href="#essential-keyboard-shortcuts-rstudio-and-general-use"></a>
</h3>
<p>Speed up coding with these shortcuts (useful in RStudio):</p>
<table class="table">
<thead><tr class="header">
<th align="left">Description</th>
<th align="left">Windows_Linux</th>
<th align="left">MacOS</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Autocomplete (TAB)</td>
<td align="left">TAB</td>
<td align="left">TAB</td>
</tr>
<tr class="even">
<td align="left">Run line/selection</td>
<td align="left">Ctrl + Enter</td>
<td align="left">Cmd + Enter</td>
</tr>
<tr class="odd">
<td align="left">Pipe <code>%&gt;%</code>
</td>
<td align="left">Ctrl + Shift + M</td>
<td align="left">Cmd + Shift + M</td>
</tr>
<tr class="even">
<td align="left">Comment/uncomment</td>
<td align="left">Ctrl + Shift + C</td>
<td align="left">Cmd + Shift + C</td>
</tr>
<tr class="odd">
<td align="left">Find/replace</td>
<td align="left">Ctrl + F</td>
<td align="left">Cmd + F</td>
</tr>
<tr class="even">
<td align="left">Select all</td>
<td align="left">Ctrl + A</td>
<td align="left">Cmd + A</td>
</tr>
<tr class="odd">
<td align="left">Save script</td>
<td align="left">Ctrl + S</td>
<td align="left">Cmd + S</td>
</tr>
<tr class="even">
<td align="left">Insert new code chunk</td>
<td align="left">Ctrl + Alt + I</td>
<td align="left">Cmd + Option + I</td>
</tr>
<tr class="odd">
<td align="left">Go to file/function</td>
<td align="left">Ctrl + .</td>
<td align="left">Cmd + .</td>
</tr>
<tr class="even">
<td align="left">Show documentation</td>
<td align="left">F1</td>
<td align="left">F1</td>
</tr>
</tbody>
</table>
<p>Reference: <a href="https://rstudio.github.io/cheatsheets/html/rstudio-ide.html#keyboard-shortcuts" class="external-link">RStudio
Keyboard Shortcuts</a></p>
<p><strong>Pro-tip:</strong> Autocomplete (TAB) works for functions,
arguments, and file names—use it to boost accuracy and speed.</p>
</div>
<div class="section level3">
<h3 id="basic-programming-package-management">Basic Programming &amp; Package Management<a class="anchor" aria-label="anchor" href="#basic-programming-package-management"></a>
</h3>
<p>R is built for clarity:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Assign a value</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">42</span></span>
<span></span>
<span><span class="co"># Create a vector</span></span>
<span><span class="va">numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span> <span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span> <span class="op">(</span><span class="va">numbers</span><span class="op">)</span></span></code></pre></div>
<p><strong>Install and load a package:</strong></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span> <span class="op">(</span><span class="st">"dplyr"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p><strong>Install multiple packages at once:</strong></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span> <span class="op">(</span><span class="st">"dplyr"</span>, <span class="st">"tidyr"</span>, <span class="st">"ggplot2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>See this <a href="https://www.r-bloggers.com/how-to-start/" class="external-link">R-bloggers intro
guide</a> for practical examples and tips.</p>
</div>
<div class="section level3">
<h3 id="fundamental-packages-functions">Fundamental Packages &amp; Functions<a class="anchor" aria-label="anchor" href="#fundamental-packages-functions"></a>
</h3>
<ul>
<li>
<strong>Base R:</strong> <code><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean()</a></code>, <code><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd()</a></code>,
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>, <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>, <code><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist()</a></code>
</li>
<li>
<strong>Core Packages:</strong>
<ul>
<li>
<code>stats</code>: Statistical modeling and classic tests.</li>
<li>
<code>dplyr</code>: Data wrangling (select, filter, mutate, group,
summarize).</li>
<li>
<code>tidyr</code>: Data tidying (pivot_longer, pivot_wider,
separate, unite).</li>
<li>
<code>ggplot2</code>: Elegant data visualization.</li>
</ul>
</li>
</ul>
<p><strong>Example: Filter and Plot with dplyr &amp;
ggplot2</strong></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Import libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Create sample data</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span> <span class="op">(</span>ID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">18</span>, <span class="fl">12</span>, <span class="fl">11</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Filter values greater than 12 and plot</span></span>
<span><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span> <span class="op">(</span><span class="va">value</span> <span class="op">&gt;</span> <span class="fl">12</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span> <span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span> <span class="op">(</span>x <span class="op">=</span> <span class="va">ID</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span> <span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-wrangling-visualization-and-reproducibility-tutorials">Data Wrangling, Visualization, and Reproducibility Tutorials<a class="anchor" aria-label="anchor" href="#data-wrangling-visualization-and-reproducibility-tutorials"></a>
</h3>
<ul>
<li><a href="https://www.r-bloggers.com/2018/05/dplyr-a-beginners-guide/" class="external-link">Data
Wrangling with <code>dplyr</code></a></li>
<li><a href="https://www.r-bloggers.com/2020/08/graphics-in-r-with-ggplot2/" class="external-link">Data
Visualization with ggplot2</a></li>
<li><a href="https://rmarkdown.rstudio.com/lesson-1.html" class="external-link">Reproducible
Analyses with RMarkdown</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="avoiding-package-duplication-managing--libpaths">Avoiding Package Duplication: Managing .libPaths()<a class="anchor" aria-label="anchor" href="#avoiding-package-duplication-managing--libpaths"></a>
</h3>
<p>To avoid duplicate installations and manage shared settings across
operating systems, we recommend users to customize
<code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Display current library locations</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span> <span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set a custom/shared R library (adjust for OS)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span> <span class="op">(</span><span class="st">"C:/R/libraries"</span><span class="op">)</span>    <span class="co"># Windows (Out of the `Program Files` folder)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span> <span class="op">(</span><span class="st">"~/R/libraries"</span><span class="op">)</span>     <span class="co"># Linux/MacOS</span></span></code></pre></div>
<p>To permanently set this path, add the above line to your
Rprofile.site file:</p>
<ul>
<li><p><strong>Windows:</strong><br>
C:/Program Files/R/R-x.y.z/etc/Rprofile.site</p></li>
<li><p><strong>Linux/MacOS:</strong><br>
/usr/lib/R/etc/Rprofile.site</p></li>
</ul>
<p><strong>Advanced-setting:</strong> Users with multiple PCs may
consider storing libraries on a synced drive (Dropbox, OneDrive) when
switching between computers. This will also require modifying the
Rprofile.site location.</p>
<p><em>Try install directly to the new path:</em></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Verify the new library path. The new path should be the first.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span> <span class="op">(</span><span class="fu">.liibPaths</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span> <span class="op">(</span><span class="st">"lubridate"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="common-pitfalls-and-best-practices">Common Pitfalls and Best Practices<a class="anchor" aria-label="anchor" href="#common-pitfalls-and-best-practices"></a>
</h3>
<ul>
<li>
<strong>Error Handling:</strong><br>
Use <code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch()</a></code> to manage unexpected errors and keep
analyses running.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span> <span class="op">(</span><span class="st">"a"</span><span class="op">)</span>, error <span class="op">=</span> <span class="kw">function</span> <span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="st">"Not a number"</span><span class="op">)</span></span></code></pre></div>
<ul>
<li><p><strong>Reproducibility:</strong><br>
Use RMarkdown (<code>.Rmd</code>) to combine code, results, and
documentation.<br>
Run <code>knitr::knit("myreport.Rmd")</code> to generate reproducible
reports.</p></li>
<li>
<p><strong>Efficient Code:</strong></p>
<ul>
<li>Use vectorized functions: Replace <code>for</code> loops with
<code>apply</code> or vectorized alternatives when possible.</li>
<li>Avoid using <code><a href="https://rdrr.io/r/base/attach.html" class="external-link">attach()</a></code> to prevent hidden bugs in
scope.</li>
</ul>
</li>
<li>
<p><strong>Debugging:</strong></p>
<ul>
<li>Use <code><a href="https://rdrr.io/r/base/browser.html" class="external-link">browser()</a></code>, <code><a href="https://rdrr.io/r/base/traceback.html" class="external-link">traceback()</a></code>, or RStudio’s
built-in debugger.</li>
<li>Check the <a href="https://posit.co/resources/knowledge-base/troubleshooting/" class="external-link">RStudio
Troubleshooting FAQ</a> for solutions to common issues.</li>
</ul>
</li>
<li><p><strong>Learning from the Community:</strong><br>
Ask questions or find solutions on <a href="https://www.r-bloggers.com/" class="external-link">R-bloggers</a> and <a href="https://stackoverflow.com/questions/tagged/r" class="external-link">Stack
Overflow</a>.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="interactive-learning">Interactive Learning<a class="anchor" aria-label="anchor" href="#interactive-learning"></a>
</h3>
<p>Besides practice coding locally, we also recommend visiting
interactive learning platforms such as: - <a href="https://www.datacamp.com/courses/tech:r" class="external-link">DataCamp</a> - <a href="https://www.coursera.org/courses?query=r%20programming" class="external-link">Coursera</a></p>
<p><strong>Disclaimer:</strong> No, we are not sponsored by any of these
platforms! We recommend them purely based on their content quality and
user experience.</p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Smith, Michael T., et al. “Use of Actigraphy for the Evaluation of
Sleep Disorders and Circadian Rhythm Sleep-Wake Disorders: An American
Academy of Sleep Medicine Systematic Review, Meta-Analysis, and GRADE
Assessment.” <em>Journal of Clinical Sleep Medicine</em>, vol. 14, no.
07, July 2018, pp. 1209–30. DOI: <a href="https://doi.org/10.5664/jcsm.7228" class="external-link uri">https://doi.org/10.5664/jcsm.7228</a>.</p>
<p>Varesco, G., Yao, C. W., Dubé, E., Simonelli, G., &amp; Bieuzen, F.
(2024). “Time zone transitions and actigraphy data adjustment for
circadian rhythm research.” <em>The Journal of Physiology</em>. DOI: <a href="https://doi.org/10.1113/ep092195" class="external-link uri">https://doi.org/10.1113/ep092195</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by C. William Yao, Giorgio Varesco, François Bieuzen, Guido Simonelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
