# Graphic-Report

## What will be covered in this tutorial?

This specific tutorial is designed to show users how to use generate
graphic/excel report of daily actigraphy measures. For details on data
harmonization and analysis of daily actigraphy measures, please go to
the respected tutorials.

## Step 0: Pre-requisits

For this tutorial, it is essential that the recording is properly
pre-processed (i.e., adjusted for time shift due to travel or daylight
saving). If this step has not been done, please, go tutorial titled,
Advanced Data Harmonization. Note, while the tutorial uses the adjusted
data affected by multiple source of time shift, the same procedure can
be used for any longitudinal recording even if the ones unaffected by
time shift. See example in
[`?write.act`](https://cwy20030.github.io/ActiGlobe/reference/write.act.md).

An example of the adjusted longitudinal recording.

![Adjusted_Overview](images/Adjusted_Overview.png)

Adjusted_Overview

## Step 1: Segment Daily Recordings

To segment the recording by day, ActiGlobe uses
[`Act2Daily()`](https://cwy20030.github.io/ActiGlobe/reference/Act2Daily.md)
to segment the data. This will require users to provide the
[`BriefSum()`](https://cwy20030.github.io/ActiGlobe/reference/BriefSum.md)
report and the recording. Since some may wish modify the default column
names, users will have to provide the name of the columns containing the
activity count and time (generated by
[`BriefSum()`](https://cwy20030.github.io/ActiGlobe/reference/BriefSum.md))
Note, that we can skip step 1 if we want to save daily recordings and
review the pre-processed recordings directly from PDF.

### Visual Example of Segmented Daily Recording

``` r
### Here, we selectively generate graphs at random for day 11 and day 12.
for (i in names (dfList$Daily_df) [11:12]) {

    ggActiGlobe (
        df = dfList$Daily_df [[i]],
        Bdf = Bdf.adj,
        VAct = "Activity",
        VDT = "DateTime"
    ) +
        scale_color_grey () #### Change the graph colour

}
```

![Day11](images/Day11.png)![Day12](images/Day12.png)

## Step 2: Export Daily Recordings

After the recordings are segmented, we can export daily recordings using
the
[`write.act()`](https://cwy20030.github.io/ActiGlobe/reference/write.act.md)
function. Note that write.act uses
[`Act2Daily()`](https://cwy20030.github.io/ActiGlobe/reference/Act2Daily.md)
in the background. So we can also skip Act2Daily entirely if the goal is
to segment the data and the quick summary for documentation or other
uses. Nevertheless, it is recommend that users review at least some of
the recordings using
[`Act2Daily()`](https://cwy20030.github.io/ActiGlobe/reference/Act2Daily.md)
when processing large number of recordings.

``` r
dfList <- write.act (
    Dir = "The_PATH_in_the_computer_WHERE_the_daily_recordings_will_be_stored",
    ID = "JD",
    df = df,
    Bdf = Bdf.adj,
    VAct = "Activity",
    VTm = "Time"
)
```

![An example of what write.act generates](images/write_act_example.png)

An example of what write.act generates

## Step 3: Generate Daily Reports

Once, we are confident with the results from the pre-processing step, we
can generate some graphic summary to help us review and document each
segmented daily recording from
[`Act2Daily()`](https://cwy20030.github.io/ActiGlobe/reference/Act2Daily.md).
Note, ActiGlobe appends all recordings in one single pdf file.

``` r
dfList <- write.cosinor (
    Dir = "The_PATH_in_the_computer_WHERE_the_daily_recordings_will_be_stored",
    ID = "JD",
    DailyAct = dfList$Daily_df,
    Bdf = Bdf.adj,
    VAct = "Activity",
    VTm = "Time"
)
```
